window.addEventListener("DOMContentLoaded",function(){(function(a){function e(a,e){var s,i,t,l,r,n,o,c=a,d=e||function(){};c.addEventListener("touchstart",function(a){var e=a.changedTouches[0];s="none",dist=0,i=e.pageX,t=e.pageY,o=(new Date).getTime(),a.preventDefault()},!1),c.addEventListener("touchmove",function(a){a.preventDefault()},!1),c.addEventListener("touchend",function(a){var e=a.changedTouches[0];l=e.pageX-i,r=e.pageY-t,n=(new Date).getTime()-o,n<=200&&(Math.abs(l)>=5&&Math.abs(r)<=100?s=0>l?"left":"right":Math.abs(r)>=5&&Math.abs(l)<=100&&(s=0>r?"up":"down")),d(s),a.preventDefault()},!1)}function s(a,e){var s=window.location.href;null==e&&(e="");var i=new RegExp("\\b("+a+"=).*?(&|#|$)");return s.search(i)>=0?s.replace(i,"$1"+e+"$2"):(s=s.replace(/[?#]$/,""),s+(s.indexOf("?")>0?"&":"?")+a+"="+e)}function i(){a(".down_arr").animate({right:"0px"})}function t(e){function i(i){for(var t=0;t<i.length;t++){var l=document.createElement("li");str=i[t].relatedColorCodes,res=str.split(";"),void 0===res[0]||null===res[0]||"undefined"===res[0]||""===res[0]?color0="":(color0=res[0],color0='<li class="variant"><img data="/'+res[0].slice(0,-4)+'" src="/images/promos/'+color0.slice(-3).toLowerCase()+'.jpg"></li>'),void 0===res[1]||null===res[1]||"undefined"===res[1]||""===res[1]?color1="":(color1=res[1],color1='<li class="variant"><img  data="/'+res[1].slice(0,-4)+'" src="/images/promos/'+color1.slice(-3).toLowerCase()+'.jpg"></li>'),void 0===res[2]||null===res[2]||"undefined"===res[2]||""===res[2]?color2="":(color2=res[2],color2='<li class="variant"><img  data="/'+res[2].slice(0,-4)+'" src="/images/promos/'+color2.slice(-3).toLowerCase()+'.jpg"></li>'),void 0===res[3]||null===res[3]||"undefined"===res[3]||""===res[3]?color3="":(color3=res[3],color3='<li class="variant"><img  data="/'+res[3].slice(0,-4)+'" src="/images/promos/'+color3.slice(-3).toLowerCase()+'.jpg"></li>'),void 0===res[4]||null===res[4]||"undefined"===res[4]||""===res[4]?color4="":(color4=res[4],color4='<li class="variant"><img  data="/'+res[4].slice(0,-4)+'" src="/images/promos/'+color4.slice(-3).toLowerCase()+'.jpg"></li>'),l.innerHTML='<a href="'+i[t].seoLink.replace("https://www.pcrichard.com","")+'"><div class="product-tile"><div class="BUYNOW">Buy Now</div><div class="product-image"><img src="'+i[t].detailImg+'" alt="'+i[t].displayName+'"></div><div class="product-details-container"><div class="product-variant-container"><ul class="variantList">'+color0+color1+color2+color3+'</ul></div><span class="livehtmld" style="color:#333">'+i[t].displayName+'</span><div class="model"><span class="hide-for-large-up">Model:&nbsp;</span>'+i[t].sku+'</div><div class="ratings-container"><div data-bv-show="inline_rating" data-bv-productid="'+i[t].sku+'" data-bv-redirect-url="'+i[t].seoLink.replace("https://www.pcrichard.com","")+'" data-bv-ready="true"></div></div><div id="price-container-'+i[t].sku+'" class="price-container plp-price-container-js" href="'+i[t].seoLink+'"><div class="salePrice">$'+i[t].listPrice+"</div></div></div></div></a>","Yes"===i[t].regularPriceStrikeThrough&&(Savings=parseFloat(i[t].listPrice)-parseFloat(i[t].salePrice),l.innerHTML='<a href="'+i[t].seoLink.replace("https://www.pcrichard.com","")+'"><div class="product-tile"><div class="BUYNOW">Buy Now</div><div class="product-image"><img src="'+i[t].detailImg+'" alt="'+i[t].displayName+'"></div><div class="product-details-container"><div class="product-variant-container"><ul class="variantList">'+color0+color1+color2+color3+'</ul></div><span class="livehtmld" style="color:#333">'+i[t].displayName+'</span><div class="model"><span class="hide-for-large-up">Model:&nbsp;</span>'+i[t].sku+'</div><div class="ratings-container"><div data-bv-show="inline_rating" data-bv-productid="'+i[t].sku+'" data-bv-redirect-url="'+i[t].seoLink.replace("https://www.pcrichard.com","")+'" data-bv-ready="true"></div></div><div id="price-container-'+i[t].sku+'" class="price-container plp-price-container-js" href="'+i[t].seoLink+'"><div class="salePrice">$'+i[t].salePrice+'</div><div class="originalPrice">reg $'+i[t].listPrice+'</div><div class="savings">Save $'+Savings.toFixed(2)+"!</div></div></div></div></a>"),"Yes"===i[t].showPriceInCartOnly&&(l.innerHTML='<div class="product-tile"><div class="product-image"><a href="'+i[t].seoLink.replace("https://www.pcrichard.com","")+'" class="prodImage"><img src="'+i[t].detailImg+'" alt="'+i[t].displayName+'" ></a></div><div class="product-details-container"><div class="product-variant-container"><ul class="variantList">'+color0+color1+color2+color3+'</ul></div></div><a href="'+i[t].seoLink.replace("https://www.pcrichard.com","")+'" class="product-name">'+i[t].displayName+'</a><div class="model"><span class="hide-for-large-up">Model:&nbsp;</span>'+i[t].sku+'</div><div class="ratings-container"></div><div id="price-container-'+i[t].sku+'" class="price-container plp-price-container-js" href="'+i[t].seoLink+'"><div class="salePrice">'+i[t].salePrice+'</div><div class="originalPrice">reg $'+i[t].listPrice+'</div><div class="priceMsg">Price Lower in Cart<span class="pcr-tooltip">?<small class="tooltip-body top center"> Why don&rsquo;t we show the price? As a retailer, we set our prices independently, but in some cases the manufacturer does not allow us to show our price until you take further action. Don&rsquo;t worry; you&rsquo;ll be able to see the price in checkout before you decide to buy it.</small></span></div></div></div></div>'),"Yes"===i[t].showPriceInCheckoutOnly&&(Savings=parseFloat(i[t].listPrice)-parseFloat(i[t].salePrice),l.innerHTML='<a href="'+i[t].seoLink.replace("https://www.pcrichard.com","")+'"><div class="product-tile"><div class="BUYNOW">Buy Now</div><div class="product-image"><img src="'+i[t].detailImg+'" alt="'+i[t].displayName+'"></div><div class="product-details-container"><div class="product-variant-container"><ul class="variantList">'+color0+color1+color2+color3+'</ul></div><span class="livehtmld" style="color:#333">'+i[t].displayName+'</span><div class="model"><span class="hide-for-large-up">Model:&nbsp;</span>'+i[t].sku+'</div><div class="ratings-container"><div data-bv-show="inline_rating" data-bv-productid="'+i[t].sku+'" data-bv-redirect-url="'+i[t].seoLink.replace("https://www.pcrichard.com","")+'" data-bv-ready="true"></div></div><div id="price-container-'+i[t].sku+'" class="price-container plp-price-container-js" href="'+i[t].seoLink+'"><div class="salePrice">$'+i[t].salePrice+'</div><div class="originalPrice">reg $'+i[t].listPrice+'</div><div class="savings">Save $'+Savings.toFixed(2)+"!</div></div></div></div></a>"),a(e).hasClass("largeProduct")&&(l.innerHTML='<a href="'+i[t].seoLink.replace("https://www.pcrichard.com","")+'"><div class="product-tile"><div class="BUYNOW">Buy Now</div><div class="product-image"></div><div class="product-details-container"><div  class="product-variant-container"></div><span class="livehtmld" style="color:#333">'+i[t].displayName+'</span><div class="model"><span class="hide-for-large-up">Model:&nbsp;</span>'+i[t].sku+'</div><div class="ratings-container"><div data-bv-show="inline_rating" data-bv-productid="'+i[t].sku+'" data-bv-redirect-url="'+i[t].seoLink.replace("https://www.pcrichard.com","")+'" data-bv-ready="true"></div></div><div id="price-container-'+i[t].sku+'" class="price-container plp-price-container-js" href="'+i[t].seoLink+'"><div class="salePrice">$'+i[t].listPrice+"</div></div></div></div></a>"),a(e).append(l),a(".livehtmld").each(function(){a(this).html(a(this).text())}),a(".gridproducts li a").on("click",function(){pageloader=a(this).parent("li").parent("div").parent("div").attr("id").replace("section","");var e=s("page",pageloader);history.pushState(null,null,e)})}}url_to_products=a(e).attr("data"),fetch("/catalog/flyerContent.jsp?"+url_to_products).then(function(a){return a.json()}).then(function(a){i(a)}).catch(function(a){console.log("error: "+a)})}var l;mynum=0,mypage=1,mywhatiam=0,highlight_button=0,l=function(a){function e(){var e,s,i={height:c.innerHeight,width:c.innerWidth};return i.height||(e=o.compatMode,(e||!a.support.boxModel)&&(s="CSS1Compat"===e?d:o.body,i={height:s.clientHeight,width:s.clientWidth})),i}function s(){return{top:c.pageYOffset||d.scrollTop||o.body.scrollTop,left:c.pageXOffset||d.scrollLeft||o.body.scrollLeft}}function i(){if(n.length){var i=0,r=a.map(n,function(a){var e=a.data.selector,s=a.$element;return e?s.find(e):s});for(t=t||e(),l=l||s();i<n.length;i++)if(a.contains(d,r[i][0])){var o=a(r[i]),c={height:o[0].offsetHeight,width:o[0].offsetWidth},p=o.offset(),m=o.data("inview");if(!l||!t)return;p.top+c.height>l.top&&p.top<l.top+t.height&&p.left+c.width>l.left&&p.left<l.left+t.width?m||o.data("inview",!0).trigger("inview",[!0]):m&&o.data("inview",!1).trigger("inview",[!1])}}}var t,l,r,n=[],o=document,c=window,d=o.documentElement;a.event.special.inview={add:function(e){n.push({data:e,$element:a(this),element:this}),!r&&n.length&&(r=setInterval(i,250))},remove:function(a){for(var e=0;e<n.length;e++){var s=n[e];if(s.element===this&&s.data.guid===a.guid){n.splice(e,1);break}}n.length||(clearInterval(r),r=null)}},a(c).on("scroll resize scrollstop",function(){t=l=null}),!d.addEventListener&&d.attachEvent&&d.attachEvent("onfocusin",function(){l=null})},"function"==typeof define&&define.amd?define(["jquery"],l):"object"==typeof exports?module.exports=l(require("jquery")):l(jQuery),jQuery.fn.scrollTo=function(e,s){return a(this).animate({scrollTop:a(this).scrollTop()-a(this).offset().top+a(e).offset().top},void 0===s?1e3:s),this},a.urlParam=function(a){var e=new RegExp("[?&]"+a+"=([^&#]*)").exec(window.location.href);return null==e?null:decodeURI(e[1])||0};let r=new URLSearchParams(window.location.search);a(".wrapper-d").prepend('<div id="menu_block41" class="down_arr"><img id="back_to_top" src="/images/promos/back_to_top-2-2020.svg" style="width: 100%;"><img id="up_arrow" src="/images/promos/up_arr_logo-2-2020.svg" style="width: 100%;"><img id="down_arrow" src="/images/promos/down_arr_logo-2-2020.svg" style="width: 100%;"></div><div class="flyer_title"><div class="myname-d"> Weekly Circular for</div><div class="mypage-d">Page <span id="whatPageImOn">1</span> of <span id="myPageCount"></span></div></div>'),a(".pg_internal").each(function(){a('<div id="'+a(this).attr("id").replace("section","listview")+'" class="whatiam">'+a(this).attr("data")+"</div>").insertBefore(this),mypage++});var n=100/a(".submenu-d").length+"%";a("#myPageCount").text(a(".pg_internal").length),a(".submenu-d").each(function(){a(this).append('<img title="'+a(this).attr("title")+'" src="'+a(this).attr("img")+'" /><div class="submenu_title">'+a(this).attr("title")+"</div>").width(n).wrap('<a class="scrollLink" data="'+a(this).attr("page")+'"></a>').delay(700).fadeIn()}),a(".scrollLink").on("click",function(){if(a(this).hasClass("imclicked"))return!1;a(this).addClass("imclicked"),a(window).scrollTop(0),a(".scrollLink").not(this).removeClass("imclicked"),whereimgoing="#listview"+a(this).attr("data"),a(".pages").delay(500).scrollTo(whereimgoing),what_page_amI_on=parseInt(a(this).attr("data"))+1,a("#whatPageImOn").delay(800).text(what_page_amI_on)}),a(window).resize(function(){a(".submenu-d").width(100/a(".submenu-d").length+"%")});var o=new Date,c=[];c[0]="Jan.",c[1]="Feb.",c[2]="March",c[3]="April",c[4]="May",c[5]="June",c[6]="July",c[7]="Aug.",c[8]="Sept.",c[9]="Oct.",c[10]="Nov.",c[11]="Dec.";var d=[];d[1]="1<span class='t_make_small'>st</span>",d[2]="2<span class='t_make_small'>nd</span>",d[3]="3<span class='t_make_small'>rd</span>",d[4]="4<span class='t_make_small'>th</span>",d[5]="5<span class='t_make_small'>th</span>",d[6]="6<span class='t_make_small'>th</span>",d[7]="7<span class='t_make_small'>th</span>",d[8]="8<span class='t_make_small'>th</span>",d[9]="9<span class='t_make_small'>th</span>",d[10]="10<span class='t_make_small'>th</span>",d[11]="11<span class='t_make_small'>th</span>",d[12]="12<span class='t_make_small'>th</span>",d[13]="13<span class='t_make_small'>th</span>",d[14]="14<span class='t_make_small'>th</span>",d[15]="15<span class='t_make_small'>th</span>",d[16]="16<span class='t_make_small'>th</span>",d[17]="17<span class='t_make_small'>th</span>",d[18]="18<span class='t_make_small'>th</span>",d[19]="19<span class='t_make_small'>th</span>",d[20]="20<span class='t_make_small'>th</span>",d[21]="21<span class='t_make_small'>st</span>",d[22]="22<span class='t_make_small'>nd</span>",d[23]="23<span class='t_make_small'>rd</span>",d[24]="24<span class='t_make_small'>th</span>",d[25]="25<span class='t_make_small'>th</span>",d[26]="26<span class='t_make_small'>th</span>",d[27]="27<span class='t_make_small'>th</span>",d[28]="28<span class='t_make_small'>th</span>",d[29]="29<span class='t_make_small'>th</span>",d[30]="30<span class='t_make_small'>th</span>",d[31]="31<span class='t_make_small'>st</span>";var p=c[o.getMonth()],m=d[o.getDate()];o.getYear();a(".myname-d").append(" "+p+" "+m+" 2020"),a(".whatiam").on("inview",function(e,s){what_page_amI_on=parseInt(a(this).attr("id").replace("listview",""))+1,a("#whatPageImOn").delay(800).text(what_page_amI_on)}),a(".pg_internal").on("inview",function(e,s){whatSection=a(this).attr("id").replace("#",""),whereimgoing=a(this).attr("id"),a("#"+whereimgoing).children(".svg").not(".completed").each(function(){a(this).html("<object data=/images/promos/"+a(this).attr("data")+" height=100% type=image/svg+xml width=100%></object>"),a(this).addClass("completed")}),a(this).addClass("content_loaded"),a("#"+whereimgoing).children(".gridproducts").not(".imloaded").each(function(){a(this).attr("id","list"+mynum),mynum++,append_Products="#"+a(this).attr("id"),t(append_Products),a(this).addClass("imloaded")})}),a(window).scroll(function(e){var s=a(window).scrollTop();s>170?(a(".topmenu").addClass("topmenu-scroll"),a(".flyer_title").addClass("flyer_title-scroll"),a(".scrollLink").removeClass("imclicked")):(a(".topmenu").removeClass("topmenu-scroll"),a(".flyer_title").removeClass("flyer_title-scroll"))}),a("#down_arrow").on("touchstart click",function(){a(".pages").animate({scrollTop:"+=600px"}),a(".scrollLink").removeClass("imclicked")}),a("#up_arrow").on("touchstart click",function(){a(".pages").animate({scrollTop:"-=600px"}),a(".scrollLink").removeClass("imclicked")}),a("#back_to_top").on("touchstart click",function(){a(".pages").animate({scrollTop:"0px"},500)});var v=document.getElementById("up_arrow"),u=document.getElementById("down_arrow");e(v,function(e){"left"==e&&a("#menu_block41").animate({right:"0"})}),e(v,function(e){"right"==e&&a("#menu_block41").animate({right:"-40px"})}),e(u,function(e){"left"==e&&a("#menu_block41").animate({right:"0"})}),e(u,function(e){"right"==e&&a("#menu_block41").animate({right:"-40px"})}),!0===r.has("page")?(whereimgoing="#listview"+a.urlParam("page"),a(".pages").scrollTo(whereimgoing)):window.history.pushState("object or string","Weekly Circular",document.location+"?page=0"),setTimeout(i,2500)})(jQuery)});